<!DOCTYPE html>
<html>

<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <script src="https://cdn.bootcss.com/jquery/3.1.0/jquery.min.js"></script>
  
<link rel="stylesheet" href="/css/layout.css">

  <title>
     
      mq's website 
     
  </title>
<meta name="generator" content="Hexo 4.2.0"></head>

<body>
  
<script src="/js/index.js"></script>


<script src="/js/article.js"></script>


<script src="/js/footer.js"></script>


<link rel="stylesheet" href="/css/index.css">


<link rel="stylesheet" href="/css/article.css">


<link rel="stylesheet" href="/css/footer.css">

<div class="index">
    <div id="header">
    
<script src="/js/header.js"></script>

    
<link rel="stylesheet" href="/css/header.css">

    <div id="sidebar">
        <ul>
            <a href="/">主页</a>
            <a href="#archive">归档</a>
        </ul>
    </div>
    <div id="mask"></div>
    <span id="btn-sidebar">&#9776;</span>
</div>
    <div id="website-info">
        <span id="site-tittle">mq's website</span>
        <span id="site-subtitle"></span>
        <span id="site-description"></span>
    </div>
    <div id="articles">
        <div></div>
        <div id="article-list">
            
            <div class="per-post">
                <div class="post-metadata">
                    <h1 class="post-tittle">二分查找</h1>
                </div>
                <div class="post-split-line-grid">
                    <div></div>
                    <div class="post-split-line"></div>
                    <div></div>
                </div>
                <div>
                    
                    <div class="article-text">
    <p>二分法其实挺难的，第一个二分查找程序在1946年就公布了，但是第一个没有bug的二分查找程序在1962年才出现。在刷leetcode的时候，很多题加深了我对二分法的认识，这里简要记录一下二分法中相应细节。</p> 
</div>
                    
                </div>
                <div class="post-more">
                    <a class="btn-more" href="/2020/04/17/%E4%BA%8C%E5%88%86%E6%B3%95/%E4%BA%8C%E5%88%86%E6%B3%95/">more</a>
                </div>
            </div>
            
            <div class="per-post">
                <div class="post-metadata">
                    <h1 class="post-tittle">红黑树与2-3-4树</h1>
                </div>
                <div class="post-split-line-grid">
                    <div></div>
                    <div class="post-split-line"></div>
                    <div></div>
                </div>
                <div>
                    
                    <div class="article-text">
    <p>红黑树这个数据结构，用得很多，但是真正细致了解它的比较少。它的各种旋转规则都比较怪异，理解起来较为困难。不过，2-3-4树和红黑树是等价的。为了能够真正理解红黑树各种平衡规则的背后原理，我研究了2-3-4树，并将每一种情况与红黑树对应了起来，总结出了这篇文章。</p> 
</div>
                    
                </div>
                <div class="post-more">
                    <a class="btn-more" href="/2020/04/08/%E7%BA%A2%E9%BB%91%E6%A0%91%E4%B8%8E2-3-4%E6%A0%91/%E7%BA%A2%E9%BB%91%E6%A0%91%E4%B8%8E2-3-4%E6%A0%91/">more</a>
                </div>
            </div>
            
            <div class="per-post">
                <div class="post-metadata">
                    <h1 class="post-tittle">BST</h1>
                </div>
                <div class="post-split-line-grid">
                    <div></div>
                    <div class="post-split-line"></div>
                    <div></div>
                </div>
                <div>
                    
                    <div class="article-text">
    <h2 id="BST"><a href="#BST" class="headerlink" title="BST"></a>BST</h2><p>BST，二叉搜索树，binary  search tree。定义如下：</p>
<ul>
<li>左子树所有节点的值小于当前节点的值</li>
<li>右子树所有节点的值大于当前节点的值</li>
<li>左子树和右子树也是BST。 
</div>
                    
                </div>
                <div class="post-more">
                    <a class="btn-more" href="/2020/03/27/BST/BST/">more</a>
                </div>
            </div>
            
            <div class="per-post">
                <div class="post-metadata">
                    <h1 class="post-tittle">AVL树（一）</h1>
                </div>
                <div class="post-split-line-grid">
                    <div></div>
                    <div class="post-split-line"></div>
                    <div></div>
                </div>
                <div>
                    
                    <div class="article-text">
    <p>这篇文章不适合于从未听说过AVL树的人，适合对AVL树有概念，但是在实现上有困难的人。</p>
<p>AVL树网上的博客一搜一大把，大部分都在讲AVL怎么左旋、右旋的，在这之后就没了，怎么将一个新的元素插入到树中，怎么判断AVL树失衡，怎么判断是哪种失衡，都没有好好提到，而且许多博客根本不讲怎么删除节点。所以，我查阅了各种资料，详细记录了关于AVL树在实现的各种细节，并给出完整的源代码。</p>
<p>如果读者是一个想要学习怎么写AVL树的人，建议按顺序阅读这篇文章，并且一边读一边跟着写代码。在阅读的同时，如果有不理解的地方，可以参考<a href="https://www.cs.usfca.edu/~galles/visualization/AVLtree.html" target="_blank" rel="noopener">这个网站</a>。</p> 
</div>
                    
                </div>
                <div class="post-more">
                    <a class="btn-more" href="/2020/03/27/AVL%E6%A0%91-1/AVL%E6%A0%91-1/">more</a>
                </div>
            </div>
            
            <div class="per-post">
                <div class="post-metadata">
                    <h1 class="post-tittle">用rust写linux模块？(二)</h1>
                </div>
                <div class="post-split-line-grid">
                    <div></div>
                    <div class="post-split-line"></div>
                    <div></div>
                </div>
                <div>
                    
                    <div class="article-text">
    <p>上一篇结尾讲到，重定位报错了。先重复一下上一篇提到的错误：</p>
<p>在换了个内核版本后得到的错误如下：</p>
<blockquote>
<p>[ 9839.177419] module: testmodule: Unknown rela relocation: 4</p>
</blockquote>
<p>在尝试直接调用printk时得到的错误如下：</p>
<blockquote>
<p>[11061.846413] module: testmodule: Unknown rela relocation: 9</p>
</blockquote> 
</div>
                    
                </div>
                <div class="post-more">
                    <a class="btn-more" href="/2020/03/06/%E7%94%A8rust%E5%86%99linux%E6%A8%A1%E5%9D%97%EF%BC%9F(%E4%BA%8C)/">more</a>
                </div>
            </div>
            
            <div class="per-post">
                <div class="post-metadata">
                    <h1 class="post-tittle">用rust写linux模块？(一)</h1>
                </div>
                <div class="post-split-line-grid">
                    <div></div>
                    <div class="post-split-line"></div>
                    <div></div>
                </div>
                <div>
                    
                    <div class="article-text">
    <p>​    最近研究了下rust，感觉要是能够用来写linux module，开发体验应该会好很多。这篇文章记录我尝试用rust开发linux模块踩坑的全过程（可能会弃坑）。如果同样有人想要用rust开发linux模块，我的文章应该没有什么帮助，建议直接使用github上已有的一些开源项目，点<a href="https://github.com/fishinabarrel/linux-kernel-module-rust" target="_blank" rel="noopener">这里</a>和<a href="https://github.com/tsgates/rust.ko" target="_blank" rel="noopener">这里</a>。</p> 
</div>
                    
                </div>
                <div class="post-more">
                    <a class="btn-more" href="/2020/03/06/%E7%94%A8rust%E5%86%99linux%E6%A8%A1%E5%9D%97%EF%BC%9F(%E4%B8%80)/">more</a>
                </div>
            </div>
            
            <div class="per-post">
                <div class="post-metadata">
                    <h1 class="post-tittle">在访问内存时发生了什么</h1>
                </div>
                <div class="post-split-line-grid">
                    <div></div>
                    <div class="post-split-line"></div>
                    <div></div>
                </div>
                <div>
                    
                    <div class="article-text">
    <figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> * pa;</span><br><span class="line">...<span class="comment">//对pa进行初始化</span></span><br><span class="line"><span class="keyword">int</span> a = *pa;</span><br></pre></td></tr></table></figure>

<p>一行简单的访问地址的代码，背后到底经历了哪些复杂的步骤。</p>
<p>以linux系统和x86cpu为例，让我们来探究一下访问内存区域的全过程。</p>
<p>简单来说，分为以下几步：</p>
<ul>
<li>首先，需要进行地址转换，因为现代cpu大部分时候运行在保护模式下。<ul>
<li>首先是分段机制，通过段表来将逻辑地址转换为线性地址</li>
<li>然后是分页机制，通过页表将线性地址转换为物理地址</li>
<li>在转换的过程中，还会涉及到TLB</li>
</ul>
</li>
<li>现在，cpu得到了物理地址，通过该物理地址进行访问，这会涉及到cache</li>
<li>在上面的过程中，还会遇到非法地址访问或者page fault的问题，这需要交给内核进行处理。</li>
</ul>
<p>接下来，从上面描述到的各个步骤来深挖一下里面涉及到的东西。不过，说是深挖，但是涉及到的东西太多了，也只能浅尝辄止。</p> 
</div>
                    
                </div>
                <div class="post-more">
                    <a class="btn-more" href="/2019/08/15/%E8%AE%BF%E9%97%AE%E5%9C%B0%E5%9D%80%E6%B5%81%E7%A8%8B/%E8%AE%BF%E9%97%AE%E5%9C%B0%E5%9D%80%E6%B5%81%E7%A8%8B/">more</a>
                </div>
            </div>
            
        </div>
        <div></div>
    </div>
    <div id="footer">
    <span id="btn-to-top">&#8679;</span>
    <div id="theme-info">
        <span>theme:<a href="https://github.com/12-th/ezread" target="_blank" rel="noopener">ezread</a></span>
    </div>
</div>
</div>
</body>

</html>